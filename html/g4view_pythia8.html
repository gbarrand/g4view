<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>&lt;h1&gt;pythia8, H_ZZ_4mu example&lt;/h1&gt;</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.8.18 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><h1>pythia8, H_ZZ_4mu example</h1>
</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The version 1.1 is built with pythia8. A G4 primary vertex can be defined by using pythia8 through a scenario defined in a scenarios file. For example the "example/H_ZZ_4mu" is described in the default g4view.scenarios of the 1.1 with : </p><pre class="fragment">  &lt;scenario name="H_ZZ_4mu"&gt;

    &lt;file&gt;barrel.gdml&lt;/file&gt;

    &lt;background&gt;black&lt;/background&gt;

    &lt;camera&gt;
      &lt;class&gt;ortho&lt;/class&gt;
      &lt;height&gt;10000&lt;/height&gt;

      &lt;znear&gt;100&lt;/znear&gt;
      &lt;zfar&gt;100000&lt;/zfar&gt;
      &lt;focal&gt;10000&lt;/focal&gt;
      &lt;dx&gt;10&lt;/dx&gt;
      &lt;da&gt;0.017&lt;/da&gt; &lt;!--one degree --&gt;
      &lt;ds&gt;0.99&lt;/ds&gt;

      &lt;position&gt;0 0 10000&lt;/position&gt;
    &lt;/camera&gt;

    &lt;volume&gt;
      &lt;name&gt;p_barrel&lt;/name&gt;
      &lt;min_depth&gt;0&lt;/min_depth&gt;
      &lt;max_depth&gt;1&lt;/max_depth&gt;
      &lt;color&gt;green&lt;/color&gt;
    &lt;/volume&gt;

    &lt;volume&gt;
      &lt;name&gt;p_*_endcap&lt;/name&gt;
      &lt;min_depth&gt;0&lt;/min_depth&gt;
      &lt;max_depth&gt;1&lt;/max_depth&gt;
      &lt;color&gt;yellow&lt;/color&gt;
    &lt;/volume&gt;

    &lt;gun&gt;
      &lt;particle&gt;pythia8&lt;/particle&gt;
      &lt;file&gt;h_zz_4mu.cmnd&lt;/file&gt;
      &lt;select_particle&gt;
         ((id==13)||(id==-13))&amp;amp;&amp;amp;
         (final==true)&amp;amp;&amp;amp;
         (pT&amp;gt;10)&amp;amp;&amp;amp;
         (fabs(eta)&amp;lt;2.5)
      &lt;/select_particle&gt;
      &lt;accept_event&gt;number_selected&amp;gt;=4&lt;/accept_event&gt;
      &lt;primary_particle&gt;
         ((id==13)||(id==-13))&amp;amp;&amp;amp;
         (final==true)
      &lt;/primary_particle&gt;
      &lt;pos_x&gt;0&lt;/pos_x&gt;
      &lt;pos_y&gt;0&lt;/pos_y&gt;
      &lt;pos_z&gt;0&lt;/pos_z&gt;
    &lt;/gun&gt;

    &lt;trajectories&gt;
      &lt;particle name="mu-" color="white" show_name="true" text_scale="5"/&gt;
      &lt;particle name="mu+" color="white" show_name="true" text_scale="5"/&gt;
      &lt;particle name="e-" color="yellow"/&gt;
      &lt;particle name="e+" color="yellow"/&gt;
      &lt;particle name="gamma" color="blue"/&gt;
      &lt;particle name="default" color="red"/&gt;
    &lt;/trajectories&gt;

  &lt;/scenario&gt;</pre><p> The gun XML element describes how the G4 primary vertex is setup from pythia8. When clicking "example/H_ZZ_4mu" or when loading the H_ZZ_4mu scenario from the "files" browser, pythia8 is initialized with the h_zz_4mu.cmnd file. At each "next event" done from the "start run" panel, pythia8 is invoked (with a pythia8.next()). The produced pythia8::Particles are tested with the </p><pre class="fragment">     &lt;select_particle&gt;
     ...
     &lt;/select_particle&gt;
</pre><p> script and are counted in a "number_selected" variable. The script : </p><pre class="fragment">     &lt;accept_event&gt;
     ...
     &lt;/accept_event&gt;
</pre><p> discards or selects the event. Today the accept_event script knows only the number_selected variable. If the event is selected, the script : </p><pre class="fragment">     &lt;primary_particle&gt;
     ...
     &lt;/primary_particle&gt;
</pre><p> selects the Pythia8::Particles that are put on the Geant4 primary vertex. When done, the Geant4 tracking is activated from this primary vertex. The esoteric h_zz_4mu.cmnd pythia8 script : </p><pre class="fragment">     Beams:idA = 2212
     Beams:idB = 2212
     Beams:eCM = 7000

     HiggsSM:all  = on
     25:m0        = 200.0
     25:onMode    = off
     25:onIfMatch = 23 23
    
     23:onMode  = off
     23:onIfAll = 13 -13
</pre><p> produces Higgs with four muons in its final state. In the upper scenario, the select_particle script counts muons (id=13, -13) in pythia8 final state with pt greater than 10 GeV and eta lower than 2.5. If four such muon are found, the event is selected and the muons in the final pythia state are put on the G4 primary vertex. (Then not all pythia particles are put on the G4 vertex).</p>
<p>The geometry is a simple lead barrel with two end caps described in the (esoteric too) barrel.gdml file : </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;gdml xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:gdml="http://cern.ch/2001/Schemas/GDML"
  xsi:noNamespaceSchemaLocation=
  "http://service-spi.web.cern.ch/service-spi/app/releases/GDML/schema/gdml.xsd"&gt;

  &lt;materials&gt;
    &lt;material name="Vacuum" Z="1" formula=" "&gt;
      &lt;D value="1e-25" /&gt;
      &lt;atom value="1.00794" /&gt;
    &lt;/material&gt;

    &lt;material name="Nitrogen" Z="7" formula="N"&gt;
      &lt;D value="0.00125" /&gt;
      &lt;atom value="14.01" /&gt;
    &lt;/material&gt;
    &lt;material name="Oxygen" Z="8" formula="O"&gt;
      &lt;D value="0.00143" /&gt;
      &lt;atom value="15.999" /&gt;
    &lt;/material&gt;
    &lt;material name="Air" formula="Air"&gt;
      &lt;D value="0.001205" /&gt;
      &lt;fraction n="0.7" ref="Nitrogen" /&gt;
      &lt;fraction n="0.3" ref="Oxygen" /&gt;
    &lt;/material&gt;
    &lt;material name="Lead" Z="82" formula="Pb"&gt;
      &lt;D value="11.35" /&gt;
      &lt;atom value="207.19" /&gt;
    &lt;/material&gt;
  &lt;/materials&gt;

  &lt;solids&gt;
    &lt;box name="s_world" x="800" y="800" z="800" lunit="cm"/&gt;
    &lt;tube name="s_barrel" rmin="200" rmax="250"
       z="600" deltaphi="2.*pi" aunit="radian" lunit="cm"/&gt;
    &lt;tube name="s_endcap" rmin="20" rmax="250"
       z="50" deltaphi="2.*pi" aunit="radian" lunit="cm"/&gt;
  &lt;/solids&gt;

  &lt;structure&gt;
    &lt;volume name="v_barrel"&gt;
      &lt;materialref ref="Lead"/&gt;
      &lt;solidref ref="s_barrel"/&gt;
    &lt;/volume&gt;
    &lt;volume name="v_front_endcap"&gt;
      &lt;materialref ref="Lead"/&gt;
      &lt;solidref ref="s_endcap"/&gt;
    &lt;/volume&gt;
    &lt;volume name="v_back_endcap"&gt;
      &lt;materialref ref="Lead"/&gt;
      &lt;solidref ref="s_endcap"/&gt;
    &lt;/volume&gt;
    &lt;volume name="v_world"&gt;
      &lt;materialref ref="Air"/&gt;
      &lt;solidref ref="s_world"/&gt;
      &lt;physvol name="p_barrel"&gt;
        &lt;volumeref ref="v_barrel"/&gt;
      &lt;/physvol&gt;
      &lt;physvol name="p_front_endcap"&gt;
        &lt;volumeref ref="v_front_endcap"/&gt;
        &lt;position name="pos_front_endcap" z="330" unit="cm"/&gt;
      &lt;/physvol&gt;
      &lt;physvol name="p_back_endcap"&gt;
        &lt;volumeref ref="v_back_endcap"/&gt;
        &lt;position name="pos_back_endcap" z="-330" unit="cm"/&gt;
      &lt;/physvol&gt;
    &lt;/volume&gt;
  &lt;/structure&gt;

  &lt;setup version="1.0" name="Default"&gt;
    &lt;world ref="v_world"/&gt;
  &lt;/setup&gt;

&lt;/gdml&gt;

</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->

</body>
</html>
