<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>&lt;h2&gt;insh&lt;/h2&gt;</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><h2>insh</h2>
</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>g4view is equipped with the core of a Bourne like shell called "insh" for INlib SHell.</p>
<p>It had been introduced to have a way to customize things by using a scripting syntax known by any UNIX pedestrian and easily implementable by a "doer" without having to embarque a million of lines of code to do that. insh has the basic mechanisms found on any bash shell: variables, env variables, dollar replacement of a variable, execute other scripts, source other scripts and, obviously, execute commands with options. For example in the event.insh script, you can see: </p><pre class="fragment">    # this is a comment.
    scene_clear_dynamic
    g4_vis_trajectories
    plots_touch_plotters
</pre><p>As for a Bourne shell, at startup of the program, the internal insh will execute, if found and in this order, the files: </p><pre class="fragment">    ~/.insh
    ~/Documents/g4view/.insh
    startup.insh
    gui_main.insh  # containing an insh description of the GUI main panel.
</pre><p> For example, in a .insh, you can have: </p><pre class="fragment">    echo 'hello my .insh'
</pre><p>insh maintains a PATH variable containing a ';' separated list of directory to search for files to execute. At startup this variable contains the application user 'document directory' and the internal 'resource directory'. The document directory, on a UNIX, is: </p><pre class="fragment">    ~/Documents/g4view
 and the internal directory is of the form:
    &lt;install_path&gt;/g4view/&lt;version&gt;/res
</pre><p> The document directory is in general the place to customize the startup.insh and even the GUI throught the gui_main.insh file. Note that the .insh are sourced, but not the startup.insh and gui_main.insh files.</p>
<p>At each event the event.insh is executed. startup.insh and event.insh are the typicall places were you can customize things without having to recompile the application. Commands can be added, see for example how the 'app_version' command is done in the g4view/main. Most of commands are not g4view/specific and their code can be found under the inexlib/inlib/insh and inexlib/exlib/insh directories.</p>
<p>The Geant4 commands can be executed from insh by using the g4_apply_command command. For example: </p><pre class="fragment">    $ g4_apply_command '/run/beamOn 1'
</pre><p> Note that Geant4 related commands start with 'g4_'. For example: </p><pre class="fragment">    $ g4_pv_ls
    $ g4_lv_ls
    $ g4_material_ls
</pre><p> (The list of commands is in the 'help text commands' section). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->

</body>
</html>
